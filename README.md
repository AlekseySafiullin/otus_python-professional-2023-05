# Log Analyzer

**Log Analyzer** это утилита по сбору статисти времени выполнения запросов.

Утилита работает с логами nginx-a.

## Пререквизиты к запуску.
- На системе должен быть сутановлен Python-3.*
- Необходимо скачать и скопировать файлик *jquery.tablesorter.min.js* в директорию DATA/report (относительно рутовой директории проект)

## Запуск
```commandline
python log_analyzer.py --config config.json --max_error_rate 50 --log_level INFO
```
### Описание аргументов
**--config** - путь к файлу с настройками в формате json

**--max_error_rate** - указывает допустимый процент ошибок при чтении лога nginx

**--log_level** - указывае уровень логгирование сообщений в консоль (INFO, ERROR, DEBUG)

### Файл конфигурации
```json
{
    "REPORT_SIZE": 1000,
    "REPORT_DIR": "./reports",
    "LOG_DIR": "./log"
}
```
**REPORT_SIZE** - максимальное кол-во запосов в отчете (с максимальным суммарным временем выполнения)

**REPORT_DIR** - директория для хранения отчетов

**LOG_DIR** - директория с отчетами nginx (имена логами, которые соответсвуют схеме именования *nginx-access-ui.log-YYYYMMDD[.gz]*
